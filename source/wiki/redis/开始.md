---
title: 开始 
date: 2022-09-25 23:57:53 
updated: 2022-10-07 21:37:05
tags: [] 
top: false
mathjax: true
categories: []
author: booiris
layout: wiki 
wiki: redis
order: 0     # add order, base on problem number.
---

> 参考 《Redis设计与实现》

## redis 7.0 代码结构

```shell
.
├── 00-RELEASENOTES
├── a
├── a.c
├── BUGS
├── CODE_OF_CONDUCT.md
├── CONTRIBUTING.md
├── COPYING
├── deps
│   ├── hdr_histogram
│   ├── hiredis
│   ├── jemalloc
│   ├── linenoise
│   ├── lua
│   ├── Makefile
│   └── README.md
├── INSTALL
├── Makefile
├── MANIFESTO
├── README.md
├── redis.conf
├── runtest
├── runtest-cluster
├── runtest-moduleapi
├── runtest-sentinel
├── SECURITY.md
├── sentinel.conf
├── src
│   ├── acl.c
│   ├── adlist.c
│   ├── adlist.h
│   ├── ae.c
│   ├── ae_epoll.c
│   ├── ae_evport.c
│   ├── ae.h
│   ├── ae_kqueue.c
│   ├── ae_select.c
│   ├── anet.c
│   ├── anet.h
│   ├── aof.c
│   ├── asciilogo.h
│   ├── atomicvar.h
│   ├── bio.c
│   ├── bio.h
│   ├── bitops.c
│   ├── blocked.c
│   ├── call_reply.c
│   ├── call_reply.h
│   ├── childinfo.c
│   ├── cli_common.c
│   ├── cli_common.h
│   ├── cluster.c
│   ├── cluster.h
│   ├── commands
│   ├── commands.c
│   ├── config.c
│   ├── config.h
│   ├── connection.c
│   ├── connection.h
│   ├── connhelpers.h
│   ├── crc16.c
│   ├── crc16_slottable.h
│   ├── crc64.c
│   ├── crc64.h
│   ├── crcspeed.c
│   ├── crcspeed.h
│   ├── db.c
│   ├── debug.c
│   ├── debugmacro.h
│   ├── defrag.c
│   ├── dict.c
│   ├── dict.h
│   ├── endianconv.c
│   ├── endianconv.h
│   ├── eval.c
│   ├── evict.c
│   ├── expire.c
│   ├── fmacros.h
│   ├── function_lua.c
│   ├── functions.c
│   ├── functions.h
│   ├── geo.c
│   ├── geo.h
│   ├── geohash.c
│   ├── geohash.h
│   ├── geohash_helper.c
│   ├── geohash_helper.h
│   ├── help.h
│   ├── hyperloglog.c
│   ├── intset.c
│   ├── intset.h
│   ├── latency.c
│   ├── latency.h
│   ├── lazyfree.c
│   ├── listpack.c
│   ├── listpack.h
│   ├── listpack_malloc.h
│   ├── localtime.c
│   ├── lolwut5.c
│   ├── lolwut6.c
│   ├── lolwut.c
│   ├── lolwut.h
│   ├── lzf_c.c
│   ├── lzf_d.c
│   ├── lzf.h
│   ├── lzfP.h
│   ├── Makefile
│   ├── memtest.c
│   ├── mkreleasehdr.sh
│   ├── module.c
│   ├── modules
│   ├── monotonic.c
│   ├── monotonic.h
│   ├── mt19937-64.c
│   ├── mt19937-64.h
│   ├── multi.c
│   ├── networking.c
│   ├── notify.c
│   ├── object.c
│   ├── pqsort.c
│   ├── pqsort.h
│   ├── pubsub.c
│   ├── quicklist.c
│   ├── quicklist.h
│   ├── rand.c
│   ├── rand.h
│   ├── rax.c
│   ├── rax.h
│   ├── rax_malloc.h
│   ├── rdb.c
│   ├── rdb.h
│   ├── redisassert.c
│   ├── redisassert.h
│   ├── redis-benchmark.c
│   ├── redis-check-aof.c
│   ├── redis-check-rdb.c
│   ├── redis-cli.c
│   ├── redismodule.h
│   ├── redis-trib.rb
│   ├── release.c
│   ├── replication.c
│   ├── resp_parser.c
│   ├── resp_parser.h
│   ├── rio.c
│   ├── rio.h
│   ├── script.c
│   ├── script.h
│   ├── script_lua.c
│   ├── script_lua.h
│   ├── sdsalloc.h
│   ├── sds.c
│   ├── sds.h
│   ├── sentinel.c
│   ├── server.c
│   ├── server.h
│   ├── setcpuaffinity.c
│   ├── setproctitle.c
│   ├── sha1.c
│   ├── sha1.h
│   ├── sha256.c
│   ├── sha256.h
│   ├── siphash.c
│   ├── slowlog.c
│   ├── slowlog.h
│   ├── solarisfixes.h
│   ├── sort.c
│   ├── sparkline.c
│   ├── sparkline.h
│   ├── stream.h
│   ├── syncio.c
│   ├── syscheck.c
│   ├── syscheck.h
│   ├── testhelp.h
│   ├── t_hash.c
│   ├── timeout.c
│   ├── t_list.c
│   ├── tls.c
│   ├── tracking.c
│   ├── t_set.c
│   ├── t_stream.c
│   ├── t_string.c
│   ├── t_zset.c
│   ├── util.c
│   ├── util.h
│   ├── valgrind.sup
│   ├── version.h
│   ├── ziplist.c
│   ├── ziplist.h
│   ├── zipmap.c
│   ├── zipmap.h
│   ├── zmalloc.c
│   └── zmalloc.h
├── tests
│   ├── assets
│   ├── cluster
│   ├── helpers
│   ├── instances.tcl
│   ├── integration
│   ├── modules
│   ├── README.md
│   ├── sentinel
│   ├── support
│   ├── test_helper.tcl
│   ├── tmp
│   └── unit
├── TLS.md
└── utils
    ├── build-static-symbols.tcl
    ├── cluster_fail_time.tcl
    ├── corrupt_rdb.c
    ├── create-cluster
    ├── generate-command-code.py
    ├── generate-command-help.rb
    ├── generate-commands-json.py
    ├── generate-module-api-doc.rb
    ├── gen-test-certs.sh
    ├── graphs
    ├── hyperloglog
    ├── install_server.sh
    ├── lru
    ├── redis-copy.rb
    ├── redis_init_script
    ├── redis_init_script.tpl
    ├── redis-sha1.rb
    ├── releasetools
    ├── speed-regression.tcl
    ├── srandmember
    ├── systemd-redis_multiple_servers@.service
    ├── systemd-redis_server.service
    ├── tracking_collisions.c
    └── whatisdoing.sh

26 directories, 204 files
booiris@Myhost ~/redis (7.0*?) $ tree -L 1
.
├── 00-RELEASENOTES
├── a
├── a.c
├── BUGS
├── CODE_OF_CONDUCT.md
├── CONTRIBUTING.md
├── COPYING
├── deps
├── INSTALL
├── Makefile
├── MANIFESTO
├── README.md
├── redis.conf
├── runtest
├── runtest-cluster
├── runtest-moduleapi
├── runtest-sentinel
├── SECURITY.md
├── sentinel.conf
├── src
├── tests
├── TLS.md
└── utils

4 directories, 19 files
booiris@Myhost ~/redis (7.0*?) $ 
booiris@Myhost ~/redis (7.0) $ 
booiris@Myhost ~/redis (7.0) $ tree -L 1
.
├── 00-RELEASENOTES
├── BUGS
├── CODE_OF_CONDUCT.md
├── CONTRIBUTING.md
├── COPYING
├── deps
├── INSTALL
├── Makefile
├── MANIFESTO
├── README.md
├── redis.conf
├── runtest
├── runtest-cluster
├── runtest-moduleapi
├── runtest-sentinel
├── SECURITY.md
├── sentinel.conf
├── src
├── tests
├── TLS.md
└── utils

4 directories, 17 files
booiris@Myhost ~/redis (7.0) $ tree -L 2
.
├── 00-RELEASENOTES
├── BUGS
├── CODE_OF_CONDUCT.md
├── CONTRIBUTING.md
├── COPYING
├── deps
│   ├── hdr_histogram
│   ├── hiredis
│   ├── jemalloc
│   ├── linenoise
│   ├── lua
│   ├── Makefile
│   └── README.md
├── INSTALL
├── Makefile
├── MANIFESTO
├── README.md
├── redis.conf
├── runtest
├── runtest-cluster
├── runtest-moduleapi
├── runtest-sentinel
├── SECURITY.md
├── sentinel.conf
├── src
│   ├── acl.c
│   ├── adlist.c
│   ├── adlist.h
│   ├── ae.c
│   ├── ae_epoll.c
│   ├── ae_evport.c
│   ├── ae.h
│   ├── ae_kqueue.c
│   ├── ae_select.c
│   ├── anet.c
│   ├── anet.h
│   ├── aof.c
│   ├── asciilogo.h
│   ├── atomicvar.h
│   ├── bio.c
│   ├── bio.h
│   ├── bitops.c
│   ├── blocked.c
│   ├── call_reply.c
│   ├── call_reply.h
│   ├── childinfo.c
│   ├── cli_common.c
│   ├── cli_common.h
│   ├── cluster.c
│   ├── cluster.h
│   ├── commands
│   ├── commands.c
│   ├── config.c
│   ├── config.h
│   ├── connection.c
│   ├── connection.h
│   ├── connhelpers.h
│   ├── crc16.c
│   ├── crc16_slottable.h
│   ├── crc64.c
│   ├── crc64.h
│   ├── crcspeed.c
│   ├── crcspeed.h
│   ├── db.c
│   ├── debug.c
│   ├── debugmacro.h
│   ├── defrag.c
│   ├── dict.c
│   ├── dict.h
│   ├── endianconv.c
│   ├── endianconv.h
│   ├── eval.c
│   ├── evict.c
│   ├── expire.c
│   ├── fmacros.h
│   ├── function_lua.c
│   ├── functions.c
│   ├── functions.h
│   ├── geo.c
│   ├── geo.h
│   ├── geohash.c
│   ├── geohash.h
│   ├── geohash_helper.c
│   ├── geohash_helper.h
│   ├── help.h
│   ├── hyperloglog.c
│   ├── intset.c
│   ├── intset.h
│   ├── latency.c
│   ├── latency.h
│   ├── lazyfree.c
│   ├── listpack.c
│   ├── listpack.h
│   ├── listpack_malloc.h
│   ├── localtime.c
│   ├── lolwut5.c
│   ├── lolwut6.c
│   ├── lolwut.c
│   ├── lolwut.h
│   ├── lzf_c.c
│   ├── lzf_d.c
│   ├── lzf.h
│   ├── lzfP.h
│   ├── Makefile
│   ├── memtest.c
│   ├── mkreleasehdr.sh
│   ├── module.c
│   ├── modules
│   ├── monotonic.c
│   ├── monotonic.h
│   ├── mt19937-64.c
│   ├── mt19937-64.h
│   ├── multi.c
│   ├── networking.c
│   ├── notify.c
│   ├── object.c
│   ├── pqsort.c
│   ├── pqsort.h
│   ├── pubsub.c
│   ├── quicklist.c
│   ├── quicklist.h
│   ├── rand.c
│   ├── rand.h
│   ├── rax.c
│   ├── rax.h
│   ├── rax_malloc.h
│   ├── rdb.c
│   ├── rdb.h
│   ├── redisassert.c
│   ├── redisassert.h
│   ├── redis-benchmark.c
│   ├── redis-check-aof.c
│   ├── redis-check-rdb.c
│   ├── redis-cli.c
│   ├── redismodule.h
│   ├── redis-trib.rb
│   ├── release.c
│   ├── replication.c
│   ├── resp_parser.c
│   ├── resp_parser.h
│   ├── rio.c
│   ├── rio.h
│   ├── script.c
│   ├── script.h
│   ├── script_lua.c
│   ├── script_lua.h
│   ├── sdsalloc.h
│   ├── sds.c
│   ├── sds.h
│   ├── sentinel.c
│   ├── server.c
│   ├── server.h
│   ├── setcpuaffinity.c
│   ├── setproctitle.c
│   ├── sha1.c
│   ├── sha1.h
│   ├── sha256.c
│   ├── sha256.h
│   ├── siphash.c
│   ├── slowlog.c
│   ├── slowlog.h
│   ├── solarisfixes.h
│   ├── sort.c
│   ├── sparkline.c
│   ├── sparkline.h
│   ├── stream.h
│   ├── syncio.c
│   ├── syscheck.c
│   ├── syscheck.h
│   ├── testhelp.h
│   ├── t_hash.c
│   ├── timeout.c
│   ├── t_list.c
│   ├── tls.c
│   ├── tracking.c
│   ├── t_set.c
│   ├── t_stream.c
│   ├── t_string.c
│   ├── t_zset.c
│   ├── util.c
│   ├── util.h
│   ├── valgrind.sup
│   ├── version.h
│   ├── ziplist.c
│   ├── ziplist.h
│   ├── zipmap.c
│   ├── zipmap.h
│   ├── zmalloc.c
│   └── zmalloc.h
├── tests
│   ├── assets
│   ├── cluster
│   ├── helpers
│   ├── instances.tcl
│   ├── integration
│   ├── modules
│   ├── README.md
│   ├── sentinel
│   ├── support
│   ├── test_helper.tcl
│   ├── tmp
│   └── unit
├── TLS.md
└── utils
    ├── build-static-symbols.tcl
    ├── cluster_fail_time.tcl
    ├── corrupt_rdb.c
    ├── create-cluster
    ├── generate-command-code.py
    ├── generate-command-help.rb
    ├── generate-commands-json.py
    ├── generate-module-api-doc.rb
    ├── gen-test-certs.sh
    ├── graphs
    ├── hyperloglog
    ├── install_server.sh
    ├── lru
    ├── redis-copy.rb
    ├── redis_init_script
    ├── redis_init_script.tpl
    ├── redis-sha1.rb
    ├── releasetools
    ├── speed-regression.tcl
    ├── srandmember
    ├── systemd-redis_multiple_servers@.service
    ├── systemd-redis_server.service
    ├── tracking_collisions.c
    └── whatisdoing.sh
```
